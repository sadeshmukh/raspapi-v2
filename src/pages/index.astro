---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <a
    href="https://hackclub.com"
    target="_blank"
    rel="noopener noreferrer"
    class="fixed top-0 left-0 z-50"
  >
    <img
      src="https://assets.hackclub.com/flag-orpheus-top.svg"
      alt="Hack Club"
      class="w-24 md:w-32"
    />
  </a>

  <canvas id="bg" class="fixed inset-0 w-full h-full -z-10"></canvas>

  <main
    class="h-screen w-full flex flex-col items-center justify-center px-6 relative"
  >
    <h1
      class="font-['Syne',sans-serif] font-extrabold text-6xl md:text-8xl tracking-wider text-white mb-4"
    >
      RASPAPI
    </h1>

    <p class="text-lg md:text-xl text-[#a3a3a3] mb-8">
      Build an API. Get a Raspberry Pi Zero 2W to host it on.
    </p>

    <p class="text-[#737373] mb-10">
      3 GET endpoints | 1 POST endpoint | 7+ hours on Hackatime
    </p>

    <div class="flex gap-4 mb-6">
      <button
        type="button"
        disabled
        class="px-6 py-3 bg-[#c41e3a]/40 text-white/60 font-medium rounded-lg cursor-not-allowed"
      >
        Submit
      </button>
      <a
        href="/guides"
        class="px-6 py-3 border border-[#262626] hover:border-[#404040] text-[#a3a3a3] hover:text-white font-medium rounded-lg transition-colors"
      >
        Guides
      </a>
    </div>

    <!-- <p class="text-xs text-[#404040]">Raspberry Pi Zero 2W</p> -->
  </main>
</Layout>

<script>
  import * as THREE from "three";

  const canvas = document.getElementById("bg") as HTMLCanvasElement;
  const renderer = new THREE.WebGLRenderer({
    canvas,
    antialias: true,
    alpha: true,
  });
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(
    75,
    window.innerWidth / window.innerHeight,
    0.1,
    1000
  );
  camera.position.z = 4;

  const geometry = new THREE.IcosahedronGeometry(2, 1);
  const material = new THREE.MeshBasicMaterial({
    color: 0xc41e3a,
    wireframe: true,
    transparent: true,
    opacity: 0.12,
  });
  const mesh = new THREE.Mesh(geometry, material);
  scene.add(mesh);

  function animate() {
    requestAnimationFrame(animate);
    mesh.rotation.x += 0.001;
    mesh.rotation.y += 0.002;
    renderer.render(scene, camera);
  }
  animate();

  window.addEventListener("resize", () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });
</script>
